# 正式與測試模式

## 功能

切換正式環境與測試環境，控制發票是否真實開立。

## 模式說明

### 測試模式（預設）
- **設定**：JSON 檔案中 `"production": false` 或省略此欄位
- **行為**：呼叫各平台的測試環境 API
- **特點**：
  - 不會產生正式發票
  - 不會上傳至國稅局
  - 用於驗證資料格式與流程
  - 測試環境有配額與功能限制

### 正式模式
- **設定**：JSON 檔案中 `"production": true`
- **行為**：呼叫各平台的正式環境 API
- **特點**：
  - 會開立正式發票
  - 會上傳至國稅局
  - 發票具法律效力
  - 無測試環境限制

## 設定方式

在 JSON 檔案最上層加入 `production` 欄位：

### 測試模式
```json
{
  "production": false,
  "credential": { ... },
  "invoices": [ ... ]
}
```

### 正式模式
```json
{
  "production": true,
  "credential": { ... },
  "invoices": [ ... ]
}
```

## 憑證差異

測試模式與正式模式使用不同的 API 憑證：
- 測試模式：使用平台提供的測試憑證
- 正式模式：使用正式申請的商店憑證

請確保在對應模式下使用正確的憑證。

## 注意事項

- 正式模式開立的發票具法律效力，無法隨意作廢
- 建議先在測試模式驗證流程與資料格式
- 測試模式的限制詳見 [測試環境限制](11-test-limitations.md)
